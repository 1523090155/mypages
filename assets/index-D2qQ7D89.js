(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Gr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const J={},Rt=[],Ne=()=>{},oa=()=>!1,qs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Yr=t=>t.startsWith("onUpdate:"),fe=Object.assign,Qr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},aa=Object.prototype.hasOwnProperty,V=(t,e)=>aa.call(t,e),$=Array.isArray,It=t=>Ks(t)==="[object Map]",vi=t=>Ks(t)==="[object Set]",D=t=>typeof t=="function",re=t=>typeof t=="string",at=t=>typeof t=="symbol",X=t=>t!==null&&typeof t=="object",mi=t=>(X(t)||D(t))&&D(t.then)&&D(t.catch),yi=Object.prototype.toString,Ks=t=>yi.call(t),la=t=>Ks(t).slice(8,-1),bi=t=>Ks(t)==="[object Object]",Xr=t=>re(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Qt=Gr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vs=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},ca=/-(\w)/g,ot=Vs(t=>t.replace(ca,(e,s)=>s?s.toUpperCase():"")),ua=/\B([A-Z])/g,kt=Vs(t=>t.replace(ua,"-$1").toLowerCase()),wi=Vs(t=>t.charAt(0).toUpperCase()+t.slice(1)),cr=Vs(t=>t?`on${wi(t)}`:""),nt=(t,e)=>!Object.is(t,e),Cs=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Si=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Pr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let kn;const Ws=()=>kn||(kn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zr(t){if($(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=re(r)?pa(r):Zr(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(re(t)||X(t))return t}const ha=/;(?![^(]*\))/g,fa=/:([^]+)/,da=/\/\*[^]*?\*\//g;function pa(t){const e={};return t.replace(da,"").split(ha).forEach(s=>{if(s){const r=s.split(fa);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function en(t){let e="";if(re(t))e=t;else if($(t))for(let s=0;s<t.length;s++){const r=en(t[s]);r&&(e+=r+" ")}else if(X(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const ga="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_a=Gr(ga);function ki(t){return!!t||t===""}const Ei=t=>!!(t&&t.__v_isRef===!0),ls=t=>re(t)?t:t==null?"":$(t)||X(t)&&(t.toString===yi||!D(t.toString))?Ei(t)?ls(t.value):JSON.stringify(t,Ti,2):String(t),Ti=(t,e)=>Ei(e)?Ti(t,e.value):It(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[ur(r,i)+" =>"]=n,s),{})}:vi(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>ur(s))}:at(e)?ur(e):X(e)&&!$(e)&&!bi(e)?String(e):e,ur=(t,e="")=>{var s;return at(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ue;class xi{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ue,!e&&ue&&(this.index=(ue.scopes||(ue.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=ue;try{return ue=this,e()}finally{ue=s}}}on(){ue=this}off(){ue=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Oi(t){return new xi(t)}function Pi(){return ue}function va(t,e=!1){ue&&ue.cleanups.push(t)}let Q;const hr=new WeakSet;class Ai{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ue&&ue.active&&ue.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,hr.has(this)&&(hr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ji(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,En(this),$i(this);const e=Q,s=Ae;Q=this,Ae=!0;try{return this.fn()}finally{Ri(this),Q=e,Ae=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)rn(e);this.deps=this.depsTail=void 0,En(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?hr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ar(this)&&this.run()}get dirty(){return Ar(this)}}let Ci=0,Xt,Zt;function ji(t,e=!1){if(t.flags|=8,e){t.next=Zt,Zt=t;return}t.next=Xt,Xt=t}function tn(){Ci++}function sn(){if(--Ci>0)return;if(Zt){let e=Zt;for(Zt=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Xt;){let e=Xt;for(Xt=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function $i(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ri(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),rn(r),ma(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Ar(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ii(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ii(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===cs))return;t.globalVersion=cs;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Ar(t)){t.flags&=-3;return}const s=Q,r=Ae;Q=t,Ae=!0;try{$i(t);const n=t.fn(t._value);(e.version===0||nt(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Q=s,Ae=r,Ri(t),t.flags&=-3}}function rn(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)rn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function ma(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Ae=!0;const Li=[];function lt(){Li.push(Ae),Ae=!1}function ct(){const t=Li.pop();Ae=t===void 0?!0:t}function En(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Q;Q=void 0;try{e()}finally{Q=s}}}let cs=0;class ya{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class nn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Q||!Ae||Q===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Q)s=this.activeLink=new ya(Q,this),Q.deps?(s.prevDep=Q.depsTail,Q.depsTail.nextDep=s,Q.depsTail=s):Q.deps=Q.depsTail=s,Di(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=Q.depsTail,s.nextDep=void 0,Q.depsTail.nextDep=s,Q.depsTail=s,Q.deps===s&&(Q.deps=r)}return s}trigger(e){this.version++,cs++,this.notify(e)}notify(e){tn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{sn()}}}function Di(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Di(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Is=new WeakMap,yt=Symbol(""),Cr=Symbol(""),us=Symbol("");function oe(t,e,s){if(Ae&&Q){let r=Is.get(t);r||Is.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new nn),n.map=r,n.key=s),n.track()}}function We(t,e,s,r,n,i){const o=Is.get(t);if(!o){cs++;return}const a=l=>{l&&l.trigger()};if(tn(),e==="clear")o.forEach(a);else{const l=$(t),u=l&&Xr(s);if(l&&s==="length"){const c=Number(r);o.forEach((f,p)=>{(p==="length"||p===us||!at(p)&&p>=c)&&a(f)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(us)),e){case"add":l?u&&a(o.get("length")):(a(o.get(yt)),It(t)&&a(o.get(Cr)));break;case"delete":l||(a(o.get(yt)),It(t)&&a(o.get(Cr)));break;case"set":It(t)&&a(o.get(yt));break}}sn()}function ba(t,e){const s=Is.get(t);return s&&s.get(e)}function Tt(t){const e=K(t);return e===t?e:(oe(e,"iterate",us),ke(t)?e:e.map(ae))}function Js(t){return oe(t=K(t),"iterate",us),t}const wa={__proto__:null,[Symbol.iterator](){return fr(this,Symbol.iterator,ae)},concat(...t){return Tt(this).concat(...t.map(e=>$(e)?Tt(e):e))},entries(){return fr(this,"entries",t=>(t[1]=ae(t[1]),t))},every(t,e){return qe(this,"every",t,e,void 0,arguments)},filter(t,e){return qe(this,"filter",t,e,s=>s.map(ae),arguments)},find(t,e){return qe(this,"find",t,e,ae,arguments)},findIndex(t,e){return qe(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return qe(this,"findLast",t,e,ae,arguments)},findLastIndex(t,e){return qe(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return qe(this,"forEach",t,e,void 0,arguments)},includes(...t){return dr(this,"includes",t)},indexOf(...t){return dr(this,"indexOf",t)},join(t){return Tt(this).join(t)},lastIndexOf(...t){return dr(this,"lastIndexOf",t)},map(t,e){return qe(this,"map",t,e,void 0,arguments)},pop(){return Wt(this,"pop")},push(...t){return Wt(this,"push",t)},reduce(t,...e){return Tn(this,"reduce",t,e)},reduceRight(t,...e){return Tn(this,"reduceRight",t,e)},shift(){return Wt(this,"shift")},some(t,e){return qe(this,"some",t,e,void 0,arguments)},splice(...t){return Wt(this,"splice",t)},toReversed(){return Tt(this).toReversed()},toSorted(t){return Tt(this).toSorted(t)},toSpliced(...t){return Tt(this).toSpliced(...t)},unshift(...t){return Wt(this,"unshift",t)},values(){return fr(this,"values",ae)}};function fr(t,e,s){const r=Js(t),n=r[e]();return r!==t&&!ke(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Sa=Array.prototype;function qe(t,e,s,r,n,i){const o=Js(t),a=o!==t&&!ke(t),l=o[e];if(l!==Sa[e]){const f=l.apply(t,i);return a?ae(f):f}let u=s;o!==t&&(a?u=function(f,p){return s.call(this,ae(f),p,t)}:s.length>2&&(u=function(f,p){return s.call(this,f,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Tn(t,e,s,r){const n=Js(t);let i=s;return n!==t&&(ke(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,ae(a),l,t)}),n[e](i,...r)}function dr(t,e,s){const r=K(t);oe(r,"iterate",us);const n=r[e](...s);return(n===-1||n===!1)&&ln(s[0])?(s[0]=K(s[0]),r[e](...s)):n}function Wt(t,e,s=[]){lt(),tn();const r=K(t)[e].apply(t,s);return sn(),ct(),r}const ka=Gr("__proto__,__v_isRef,__isVue"),Ui=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(at));function Ea(t){at(t)||(t=String(t));const e=K(this);return oe(e,"has",t),e.hasOwnProperty(t)}class Mi{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Ia:Hi:i?Bi:Ni).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=$(e);if(!n){let l;if(o&&(l=wa[s]))return l;if(s==="hasOwnProperty")return Ea}const a=Reflect.get(e,s,te(e)?e:r);return(at(s)?Ui.has(s):ka(s))||(n||oe(e,"get",s),i)?a:te(a)?o&&Xr(s)?a:a.value:X(a)?n?qi(a):zs(a):a}}class Fi extends Mi{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=wt(i);if(!ke(r)&&!wt(r)&&(i=K(i),r=K(r)),!$(e)&&te(i)&&!te(r))return l?!1:(i.value=r,!0)}const o=$(e)&&Xr(s)?Number(s)<e.length:V(e,s),a=Reflect.set(e,s,r,te(e)?e:n);return e===K(n)&&(o?nt(r,i)&&We(e,"set",s,r):We(e,"add",s,r)),a}deleteProperty(e,s){const r=V(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&We(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!at(s)||!Ui.has(s))&&oe(e,"has",s),r}ownKeys(e){return oe(e,"iterate",$(e)?"length":yt),Reflect.ownKeys(e)}}class Ta extends Mi{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const xa=new Fi,Oa=new Ta,Pa=new Fi(!0);const jr=t=>t,Ss=t=>Reflect.getPrototypeOf(t);function Aa(t,e,s){return function(...r){const n=this.__v_raw,i=K(n),o=It(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?jr:e?$r:ae;return!e&&oe(i,"iterate",l?Cr:yt),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[c(f[0]),c(f[1])]:c(f),done:p}},[Symbol.iterator](){return this}}}}function ks(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ca(t,e){const s={get(n){const i=this.__v_raw,o=K(i),a=K(n);t||(nt(n,a)&&oe(o,"get",n),oe(o,"get",a));const{has:l}=Ss(o),u=e?jr:t?$r:ae;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&oe(K(n),"iterate",yt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=K(i),a=K(n);return t||(nt(n,a)&&oe(o,"has",n),oe(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=K(a),u=e?jr:t?$r:ae;return!t&&oe(l,"iterate",yt),a.forEach((c,f)=>n.call(i,u(c),u(f),o))}};return fe(s,t?{add:ks("add"),set:ks("set"),delete:ks("delete"),clear:ks("clear")}:{add(n){!e&&!ke(n)&&!wt(n)&&(n=K(n));const i=K(this);return Ss(i).has.call(i,n)||(i.add(n),We(i,"add",n,n)),this},set(n,i){!e&&!ke(i)&&!wt(i)&&(i=K(i));const o=K(this),{has:a,get:l}=Ss(o);let u=a.call(o,n);u||(n=K(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?nt(i,c)&&We(o,"set",n,i):We(o,"add",n,i),this},delete(n){const i=K(this),{has:o,get:a}=Ss(i);let l=o.call(i,n);l||(n=K(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&We(i,"delete",n,void 0),u},clear(){const n=K(this),i=n.size!==0,o=n.clear();return i&&We(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Aa(n,t,e)}),s}function on(t,e){const s=Ca(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(V(s,n)&&n in r?s:r,n,i)}const ja={get:on(!1,!1)},$a={get:on(!1,!0)},Ra={get:on(!0,!1)};const Ni=new WeakMap,Bi=new WeakMap,Hi=new WeakMap,Ia=new WeakMap;function La(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Da(t){return t.__v_skip||!Object.isExtensible(t)?0:La(la(t))}function zs(t){return wt(t)?t:an(t,!1,xa,ja,Ni)}function Ua(t){return an(t,!1,Pa,$a,Bi)}function qi(t){return an(t,!0,Oa,Ra,Hi)}function an(t,e,s,r,n){if(!X(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=Da(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function it(t){return wt(t)?it(t.__v_raw):!!(t&&t.__v_isReactive)}function wt(t){return!!(t&&t.__v_isReadonly)}function ke(t){return!!(t&&t.__v_isShallow)}function ln(t){return t?!!t.__v_raw:!1}function K(t){const e=t&&t.__v_raw;return e?K(e):t}function cn(t){return!V(t,"__v_skip")&&Object.isExtensible(t)&&Si(t,"__v_skip",!0),t}const ae=t=>X(t)?zs(t):t,$r=t=>X(t)?qi(t):t;function te(t){return t?t.__v_isRef===!0:!1}function Ls(t){return Ma(t,!1)}function Ma(t,e){return te(t)?t:new Fa(t,e)}class Fa{constructor(e,s){this.dep=new nn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:K(e),this._value=s?e:ae(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||ke(e)||wt(e);e=r?e:K(e),nt(e,s)&&(this._rawValue=e,this._value=r?e:ae(e),this.dep.trigger())}}function Ye(t){return te(t)?t.value:t}const Na={get:(t,e,s)=>e==="__v_raw"?t:Ye(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return te(n)&&!te(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function Ki(t){return it(t)?t:new Proxy(t,Na)}function Ba(t){const e=$(t)?new Array(t.length):{};for(const s in t)e[s]=qa(t,s);return e}class Ha{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ba(K(this._object),this._key)}}function qa(t,e,s){const r=t[e];return te(r)?r:new Ha(t,e,s)}class Ka{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new nn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=cs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Q!==this)return ji(this,!0),!0}get value(){const e=this.dep.track();return Ii(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Va(t,e,s=!1){let r,n;return D(t)?r=t:(r=t.get,n=t.set),new Ka(r,n,s)}const Es={},Ds=new WeakMap;let _t;function Wa(t,e=!1,s=_t){if(s){let r=Ds.get(s);r||Ds.set(s,r=[]),r.push(t)}}function Ja(t,e,s=J){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=O=>n?O:ke(O)||n===!1||n===0?Je(O,1):Je(O);let c,f,p,_,k=!1,x=!1;if(te(t)?(f=()=>t.value,k=ke(t)):it(t)?(f=()=>u(t),k=!0):$(t)?(x=!0,k=t.some(O=>it(O)||ke(O)),f=()=>t.map(O=>{if(te(O))return O.value;if(it(O))return u(O);if(D(O))return l?l(O,2):O()})):D(t)?e?f=l?()=>l(t,2):t:f=()=>{if(p){lt();try{p()}finally{ct()}}const O=_t;_t=c;try{return l?l(t,3,[_]):t(_)}finally{_t=O}}:f=Ne,e&&n){const O=f,I=n===!0?1/0:n;f=()=>Je(O(),I)}const A=Pi(),R=()=>{c.stop(),A&&A.active&&Qr(A.effects,c)};if(i&&e){const O=e;e=(...I)=>{O(...I),R()}}let N=x?new Array(t.length).fill(Es):Es;const U=O=>{if(!(!(c.flags&1)||!c.dirty&&!O))if(e){const I=c.run();if(n||k||(x?I.some((He,ie)=>nt(He,N[ie])):nt(I,N))){p&&p();const He=_t;_t=c;try{const ie=[I,N===Es?void 0:x&&N[0]===Es?[]:N,_];l?l(e,3,ie):e(...ie),N=I}finally{_t=He}}}else c.run()};return a&&a(U),c=new Ai(f),c.scheduler=o?()=>o(U,!1):U,_=O=>Wa(O,!1,c),p=c.onStop=()=>{const O=Ds.get(c);if(O){if(l)l(O,4);else for(const I of O)I();Ds.delete(c)}},e?r?U(!0):N=c.run():o?o(U.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function Je(t,e=1/0,s){if(e<=0||!X(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,te(t))Je(t.value,e,s);else if($(t))for(let r=0;r<t.length;r++)Je(t[r],e,s);else if(vi(t)||It(t))t.forEach(r=>{Je(r,e,s)});else if(bi(t)){for(const r in t)Je(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Je(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gs(t,e,s,r){try{return r?t(...r):t()}catch(n){Gs(n,e,s)}}function Be(t,e,s,r){if(D(t)){const n=gs(t,e,s,r);return n&&mi(n)&&n.catch(i=>{Gs(i,e,s)}),n}if($(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Be(t[i],e,s,r));return n}}function Gs(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||J;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}a=a.parent}if(i){lt(),gs(i,null,10,[t,l,u]),ct();return}}za(t,s,n,r,o)}function za(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const he=[];let Ue=-1;const Lt=[];let et=null,Ct=0;const Vi=Promise.resolve();let Us=null;function Wi(t){const e=Us||Vi;return t?e.then(this?t.bind(this):t):e}function Ga(t){let e=Ue+1,s=he.length;for(;e<s;){const r=e+s>>>1,n=he[r],i=hs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function un(t){if(!(t.flags&1)){const e=hs(t),s=he[he.length-1];!s||!(t.flags&2)&&e>=hs(s)?he.push(t):he.splice(Ga(e),0,t),t.flags|=1,Ji()}}function Ji(){Us||(Us=Vi.then(Gi))}function Ya(t){$(t)?Lt.push(...t):et&&t.id===-1?et.splice(Ct+1,0,t):t.flags&1||(Lt.push(t),t.flags|=1),Ji()}function xn(t,e,s=Ue+1){for(;s<he.length;s++){const r=he[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;he.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function zi(t){if(Lt.length){const e=[...new Set(Lt)].sort((s,r)=>hs(s)-hs(r));if(Lt.length=0,et){et.push(...e);return}for(et=e,Ct=0;Ct<et.length;Ct++){const s=et[Ct];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}et=null,Ct=0}}const hs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Gi(t){try{for(Ue=0;Ue<he.length;Ue++){const e=he[Ue];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),gs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ue<he.length;Ue++){const e=he[Ue];e&&(e.flags&=-2)}Ue=-1,he.length=0,zi(),Us=null,(he.length||Lt.length)&&Gi()}}let be=null,Yi=null;function Ms(t){const e=be;return be=t,Yi=t&&t.type.__scopeId||null,e}function Qa(t,e=be,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Dn(-1);const i=Ms(e);let o;try{o=t(...n)}finally{Ms(i),r._d&&Dn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function On(t,e){if(be===null)return t;const s=Zs(be),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=J]=e[n];i&&(D(i)&&(i={mounted:i,updated:i}),i.deep&&Je(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function dt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(lt(),Be(l,s,8,[t.el,a,t,e]),ct())}}const Xa=Symbol("_vte"),Za=t=>t.__isTeleport;function hn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,hn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Qi(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Fs(t,e,s,r,n=!1){if($(t)){t.forEach((k,x)=>Fs(k,e&&($(e)?e[x]:e),s,r,n));return}if(es(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Fs(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Zs(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===J?a.refs={}:a.refs,f=a.setupState,p=K(f),_=f===J?()=>!1:k=>V(p,k);if(u!=null&&u!==l&&(re(u)?(c[u]=null,_(u)&&(f[u]=null)):te(u)&&(u.value=null)),D(l))gs(l,a,12,[o,c]);else{const k=re(l),x=te(l);if(k||x){const A=()=>{if(t.f){const R=k?_(l)?f[l]:c[l]:l.value;n?$(R)&&Qr(R,i):$(R)?R.includes(i)||R.push(i):k?(c[l]=[i],_(l)&&(f[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else k?(c[l]=o,_(l)&&(f[l]=o)):x&&(l.value=o,t.k&&(c[t.k]=o))};o?(A.id=-1,me(A,s)):A()}}}Ws().requestIdleCallback;Ws().cancelIdleCallback;const es=t=>!!t.type.__asyncLoader,Xi=t=>t.type.__isKeepAlive;function el(t,e){Zi(t,"a",e)}function tl(t,e){Zi(t,"da",e)}function Zi(t,e,s=le){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Ys(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Xi(n.parent.vnode)&&sl(r,e,s,n),n=n.parent}}function sl(t,e,s,r){const n=Ys(e,t,r,!0);to(()=>{Qr(r[e],n)},s)}function Ys(t,e,s=le,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{lt();const a=_s(s),l=Be(e,s,t,o);return a(),ct(),l});return r?n.unshift(i):n.push(i),i}}const ze=t=>(e,s=le)=>{(!ds||t==="sp")&&Ys(t,(...r)=>e(...r),s)},rl=ze("bm"),eo=ze("m"),nl=ze("bu"),il=ze("u"),ol=ze("bum"),to=ze("um"),al=ze("sp"),ll=ze("rtg"),cl=ze("rtc");function ul(t,e=le){Ys("ec",t,e)}const hl=Symbol.for("v-ndc");function so(t,e,s,r){let n;const i=s,o=$(t);if(o||re(t)){const a=o&&it(t);let l=!1;a&&(l=!ke(t),t=Js(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?ae(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(X(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const Rr=t=>t?To(t)?Zs(t):Rr(t.parent):null,ts=fe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Rr(t.parent),$root:t=>Rr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>no(t),$forceUpdate:t=>t.f||(t.f=()=>{un(t.update)}),$nextTick:t=>t.n||(t.n=Wi.bind(t.proxy)),$watch:t=>Il.bind(t)}),pr=(t,e)=>t!==J&&!t.__isScriptSetup&&V(t,e),fl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const _=o[e];if(_!==void 0)switch(_){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(pr(r,e))return o[e]=1,r[e];if(n!==J&&V(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&V(u,e))return o[e]=3,i[e];if(s!==J&&V(s,e))return o[e]=4,s[e];Ir&&(o[e]=0)}}const c=ts[e];let f,p;if(c)return e==="$attrs"&&oe(t.attrs,"get",""),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(s!==J&&V(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,V(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return pr(n,e)?(n[e]=s,!0):r!==J&&V(r,e)?(r[e]=s,!0):V(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==J&&V(t,o)||pr(e,o)||(a=i[0])&&V(a,o)||V(r,o)||V(ts,o)||V(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:V(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Pn(t){return $(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Ir=!0;function dl(t){const e=no(t),s=t.proxy,r=t.ctx;Ir=!1,e.beforeCreate&&An(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:p,beforeUpdate:_,updated:k,activated:x,deactivated:A,beforeDestroy:R,beforeUnmount:N,destroyed:U,unmounted:O,render:I,renderTracked:He,renderTriggered:ie,errorCaptured:B,serverPrefetch:q,expose:se,inheritAttrs:Se,components:Ce,directives:Ge,filters:Ht}=e;if(u&&pl(u,r,null),o)for(const M in o){const z=o[M];D(z)&&(r[M]=z.bind(s))}if(n){const M=n.call(s,s);X(M)&&(t.data=zs(M))}if(Ir=!0,i)for(const M in i){const z=i[M],ht=D(z)?z.bind(s,s):D(z.get)?z.get.bind(s,s):Ne,bs=!D(z)&&D(z.set)?z.set.bind(s):Ne,ft=Oo({get:ht,set:bs});Object.defineProperty(r,M,{enumerable:!0,configurable:!0,get:()=>ft.value,set:je=>ft.value=je})}if(a)for(const M in a)ro(a[M],r,s,M);if(l){const M=D(l)?l.call(s):l;Reflect.ownKeys(M).forEach(z=>{bl(z,M[z])})}c&&An(c,t,"c");function Z(M,z){$(z)?z.forEach(ht=>M(ht.bind(s))):z&&M(z.bind(s))}if(Z(rl,f),Z(eo,p),Z(nl,_),Z(il,k),Z(el,x),Z(tl,A),Z(ul,B),Z(cl,He),Z(ll,ie),Z(ol,N),Z(to,O),Z(al,q),$(se))if(se.length){const M=t.exposed||(t.exposed={});se.forEach(z=>{Object.defineProperty(M,z,{get:()=>s[z],set:ht=>s[z]=ht})})}else t.exposed||(t.exposed={});I&&t.render===Ne&&(t.render=I),Se!=null&&(t.inheritAttrs=Se),Ce&&(t.components=Ce),Ge&&(t.directives=Ge),q&&Qi(t)}function pl(t,e,s=Ne){$(t)&&(t=Lr(t));for(const r in t){const n=t[r];let i;X(n)?"default"in n?i=ss(n.from||r,n.default,!0):i=ss(n.from||r):i=ss(n),te(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function An(t,e,s){Be($(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function ro(t,e,s,r){let n=r.includes(".")?yo(s,r):()=>s[r];if(re(t)){const i=e[t];D(i)&&js(n,i)}else if(D(t))js(n,t.bind(s));else if(X(t))if($(t))t.forEach(i=>ro(i,e,s,r));else{const i=D(t.handler)?t.handler.bind(s):e[t.handler];D(i)&&js(n,i,t)}}function no(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Ns(l,u,o,!0)),Ns(l,e,o)),X(e)&&i.set(e,l),l}function Ns(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Ns(t,i,s,!0),n&&n.forEach(o=>Ns(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=gl[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const gl={data:Cn,props:jn,emits:jn,methods:Gt,computed:Gt,beforeCreate:ce,created:ce,beforeMount:ce,mounted:ce,beforeUpdate:ce,updated:ce,beforeDestroy:ce,beforeUnmount:ce,destroyed:ce,unmounted:ce,activated:ce,deactivated:ce,errorCaptured:ce,serverPrefetch:ce,components:Gt,directives:Gt,watch:vl,provide:Cn,inject:_l};function Cn(t,e){return e?t?function(){return fe(D(t)?t.call(this,this):t,D(e)?e.call(this,this):e)}:e:t}function _l(t,e){return Gt(Lr(t),Lr(e))}function Lr(t){if($(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ce(t,e){return t?[...new Set([].concat(t,e))]:e}function Gt(t,e){return t?fe(Object.create(null),t,e):e}function jn(t,e){return t?$(t)&&$(e)?[...new Set([...t,...e])]:fe(Object.create(null),Pn(t),Pn(e??{})):e}function vl(t,e){if(!t)return e;if(!e)return t;const s=fe(Object.create(null),t);for(const r in e)s[r]=ce(t[r],e[r]);return s}function io(){return{app:null,config:{isNativeTag:oa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ml=0;function yl(t,e){return function(r,n=null){D(r)||(r=fe({},r)),n!=null&&!X(n)&&(n=null);const i=io(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:ml++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:sc,get config(){return i.config},set config(c){},use(c,...f){return o.has(c)||(c&&D(c.install)?(o.add(c),c.install(u,...f)):D(c)&&(o.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,p){if(!l){const _=u._ceVNode||Ee(r,n);return _.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(_,c,p),l=!0,u._container=c,c.__vue_app__=u,Zs(_.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Be(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=bt;bt=u;try{return c()}finally{bt=f}}};return u}}let bt=null;function bl(t,e){if(le){let s=le.provides;const r=le.parent&&le.parent.provides;r===s&&(s=le.provides=Object.create(r)),s[t]=e}}function ss(t,e,s=!1){const r=le||be;if(r||bt){const n=bt?bt._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&D(e)?e.call(r&&r.proxy):e}}function wl(){return!!(le||be||bt)}const oo={},ao=()=>Object.create(oo),lo=t=>Object.getPrototypeOf(t)===oo;function Sl(t,e,s,r=!1){const n={},i=ao();t.propsDefaults=Object.create(null),co(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Ua(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function kl(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=K(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let p=c[f];if(Qs(t.emitsOptions,p))continue;const _=e[p];if(l)if(V(i,p))_!==i[p]&&(i[p]=_,u=!0);else{const k=ot(p);n[k]=Dr(l,a,k,_,t,!1)}else _!==i[p]&&(i[p]=_,u=!0)}}}else{co(t,e,n,i)&&(u=!0);let c;for(const f in a)(!e||!V(e,f)&&((c=kt(f))===f||!V(e,c)))&&(l?s&&(s[f]!==void 0||s[c]!==void 0)&&(n[f]=Dr(l,a,f,void 0,t,!0)):delete n[f]);if(i!==a)for(const f in i)(!e||!V(e,f))&&(delete i[f],u=!0)}u&&We(t.attrs,"set","")}function co(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Qt(l))continue;const u=e[l];let c;n&&V(n,c=ot(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Qs(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=K(s),u=a||J;for(let c=0;c<i.length;c++){const f=i[c];s[f]=Dr(n,l,f,u[f],t,!V(u,f))}}return o}function Dr(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=V(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&D(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=_s(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===kt(s))&&(r=!0))}return r}const El=new WeakMap;function uo(t,e,s=!1){const r=s?El:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!D(t)){const c=f=>{l=!0;const[p,_]=uo(f,e,!0);fe(o,p),_&&a.push(..._)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return X(t)&&r.set(t,Rt),Rt;if($(i))for(let c=0;c<i.length;c++){const f=ot(i[c]);$n(f)&&(o[f]=J)}else if(i)for(const c in i){const f=ot(c);if($n(f)){const p=i[c],_=o[f]=$(p)||D(p)?{type:p}:fe({},p),k=_.type;let x=!1,A=!0;if($(k))for(let R=0;R<k.length;++R){const N=k[R],U=D(N)&&N.name;if(U==="Boolean"){x=!0;break}else U==="String"&&(A=!1)}else x=D(k)&&k.name==="Boolean";_[0]=x,_[1]=A,(x||V(_,"default"))&&a.push(f)}}const u=[o,a];return X(t)&&r.set(t,u),u}function $n(t){return t[0]!=="$"&&!Qt(t)}const ho=t=>t[0]==="_"||t==="$stable",fn=t=>$(t)?t.map(Fe):[Fe(t)],Tl=(t,e,s)=>{if(e._n)return e;const r=Qa((...n)=>fn(e(...n)),s);return r._c=!1,r},fo=(t,e,s)=>{const r=t._ctx;for(const n in t){if(ho(n))continue;const i=t[n];if(D(i))e[n]=Tl(n,i,r);else if(i!=null){const o=fn(i);e[n]=()=>o}}},po=(t,e)=>{const s=fn(e);t.slots.default=()=>s},go=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},xl=(t,e,s)=>{const r=t.slots=ao();if(t.vnode.shapeFlag&32){const n=e._;n?(go(r,e,s),s&&Si(r,"_",n,!0)):fo(e,r)}else e&&po(t,e)},Ol=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=J;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:go(n,e,s):(i=!e.$stable,fo(e,n)),o=e}else e&&(po(t,e),o={default:1});if(i)for(const a in n)!ho(a)&&o[a]==null&&delete n[a]},me=Bl;function Pl(t){return Al(t)}function Al(t,e){const s=Ws();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:p,setScopeId:_=Ne,insertStaticContent:k}=t,x=(h,d,g,y=null,v=null,m=null,E=void 0,S=null,w=!!d.dynamicChildren)=>{if(h===d)return;h&&!Jt(h,d)&&(y=ws(h),je(h,v,m,!0),h=null),d.patchFlag===-2&&(w=!1,d.dynamicChildren=null);const{type:b,ref:C,shapeFlag:T}=d;switch(b){case Xs:A(h,d,g,y);break;case St:R(h,d,g,y);break;case _r:h==null&&N(d,g,y,E);break;case Oe:Ce(h,d,g,y,v,m,E,S,w);break;default:T&1?I(h,d,g,y,v,m,E,S,w):T&6?Ge(h,d,g,y,v,m,E,S,w):(T&64||T&128)&&b.process(h,d,g,y,v,m,E,S,w,Kt)}C!=null&&v&&Fs(C,h&&h.ref,m,d||h,!d)},A=(h,d,g,y)=>{if(h==null)r(d.el=a(d.children),g,y);else{const v=d.el=h.el;d.children!==h.children&&u(v,d.children)}},R=(h,d,g,y)=>{h==null?r(d.el=l(d.children||""),g,y):d.el=h.el},N=(h,d,g,y)=>{[h.el,h.anchor]=k(h.children,d,g,y,h.el,h.anchor)},U=({el:h,anchor:d},g,y)=>{let v;for(;h&&h!==d;)v=p(h),r(h,g,y),h=v;r(d,g,y)},O=({el:h,anchor:d})=>{let g;for(;h&&h!==d;)g=p(h),n(h),h=g;n(d)},I=(h,d,g,y,v,m,E,S,w)=>{d.type==="svg"?E="svg":d.type==="math"&&(E="mathml"),h==null?He(d,g,y,v,m,E,S,w):q(h,d,v,m,E,S,w)},He=(h,d,g,y,v,m,E,S)=>{let w,b;const{props:C,shapeFlag:T,transition:P,dirs:j}=h;if(w=h.el=o(h.type,m,C&&C.is,C),T&8?c(w,h.children):T&16&&B(h.children,w,null,y,v,gr(h,m),E,S),j&&dt(h,null,y,"created"),ie(w,h,h.scopeId,E,y),C){for(const G in C)G!=="value"&&!Qt(G)&&i(w,G,null,C[G],m,y);"value"in C&&i(w,"value",null,C.value,m),(b=C.onVnodeBeforeMount)&&Le(b,y,h)}j&&dt(h,null,y,"beforeMount");const H=Cl(v,P);H&&P.beforeEnter(w),r(w,d,g),((b=C&&C.onVnodeMounted)||H||j)&&me(()=>{b&&Le(b,y,h),H&&P.enter(w),j&&dt(h,null,y,"mounted")},v)},ie=(h,d,g,y,v)=>{if(g&&_(h,g),y)for(let m=0;m<y.length;m++)_(h,y[m]);if(v){let m=v.subTree;if(d===m||wo(m.type)&&(m.ssContent===d||m.ssFallback===d)){const E=v.vnode;ie(h,E,E.scopeId,E.slotScopeIds,v.parent)}}},B=(h,d,g,y,v,m,E,S,w=0)=>{for(let b=w;b<h.length;b++){const C=h[b]=S?tt(h[b]):Fe(h[b]);x(null,C,d,g,y,v,m,E,S)}},q=(h,d,g,y,v,m,E)=>{const S=d.el=h.el;let{patchFlag:w,dynamicChildren:b,dirs:C}=d;w|=h.patchFlag&16;const T=h.props||J,P=d.props||J;let j;if(g&&pt(g,!1),(j=P.onVnodeBeforeUpdate)&&Le(j,g,d,h),C&&dt(d,h,g,"beforeUpdate"),g&&pt(g,!0),(T.innerHTML&&P.innerHTML==null||T.textContent&&P.textContent==null)&&c(S,""),b?se(h.dynamicChildren,b,S,g,y,gr(d,v),m):E||z(h,d,S,null,g,y,gr(d,v),m,!1),w>0){if(w&16)Se(S,T,P,g,v);else if(w&2&&T.class!==P.class&&i(S,"class",null,P.class,v),w&4&&i(S,"style",T.style,P.style,v),w&8){const H=d.dynamicProps;for(let G=0;G<H.length;G++){const W=H[G],_e=T[W],de=P[W];(de!==_e||W==="value")&&i(S,W,_e,de,v,g)}}w&1&&h.children!==d.children&&c(S,d.children)}else!E&&b==null&&Se(S,T,P,g,v);((j=P.onVnodeUpdated)||C)&&me(()=>{j&&Le(j,g,d,h),C&&dt(d,h,g,"updated")},y)},se=(h,d,g,y,v,m,E)=>{for(let S=0;S<d.length;S++){const w=h[S],b=d[S],C=w.el&&(w.type===Oe||!Jt(w,b)||w.shapeFlag&70)?f(w.el):g;x(w,b,C,null,y,v,m,E,!0)}},Se=(h,d,g,y,v)=>{if(d!==g){if(d!==J)for(const m in d)!Qt(m)&&!(m in g)&&i(h,m,d[m],null,v,y);for(const m in g){if(Qt(m))continue;const E=g[m],S=d[m];E!==S&&m!=="value"&&i(h,m,S,E,v,y)}"value"in g&&i(h,"value",d.value,g.value,v)}},Ce=(h,d,g,y,v,m,E,S,w)=>{const b=d.el=h?h.el:a(""),C=d.anchor=h?h.anchor:a("");let{patchFlag:T,dynamicChildren:P,slotScopeIds:j}=d;j&&(S=S?S.concat(j):j),h==null?(r(b,g,y),r(C,g,y),B(d.children||[],g,C,v,m,E,S,w)):T>0&&T&64&&P&&h.dynamicChildren?(se(h.dynamicChildren,P,g,v,m,E,S),(d.key!=null||v&&d===v.subTree)&&_o(h,d,!0)):z(h,d,g,C,v,m,E,S,w)},Ge=(h,d,g,y,v,m,E,S,w)=>{d.slotScopeIds=S,h==null?d.shapeFlag&512?v.ctx.activate(d,g,y,E,w):Ht(d,g,y,v,m,E,w):ys(h,d,w)},Ht=(h,d,g,y,v,m,E)=>{const S=h.component=Yl(h,y,v);if(Xi(h)&&(S.ctx.renderer=Kt),Ql(S,!1,E),S.asyncDep){if(v&&v.registerDep(S,Z,E),!h.el){const w=S.subTree=Ee(St);R(null,w,d,g)}}else Z(S,h,d,g,v,m,E)},ys=(h,d,g)=>{const y=d.component=h.component;if(Fl(h,d,g))if(y.asyncDep&&!y.asyncResolved){M(y,d,g);return}else y.next=d,y.update();else d.el=h.el,y.vnode=d},Z=(h,d,g,y,v,m,E)=>{const S=()=>{if(h.isMounted){let{next:T,bu:P,u:j,parent:H,vnode:G}=h;{const Re=vo(h);if(Re){T&&(T.el=G.el,M(h,T,E)),Re.asyncDep.then(()=>{h.isUnmounted||S()});return}}let W=T,_e;pt(h,!1),T?(T.el=G.el,M(h,T,E)):T=G,P&&Cs(P),(_e=T.props&&T.props.onVnodeBeforeUpdate)&&Le(_e,H,T,G),pt(h,!0);const de=In(h),$e=h.subTree;h.subTree=de,x($e,de,f($e.el),ws($e),h,v,m),T.el=de.el,W===null&&Nl(h,de.el),j&&me(j,v),(_e=T.props&&T.props.onVnodeUpdated)&&me(()=>Le(_e,H,T,G),v)}else{let T;const{el:P,props:j}=d,{bm:H,m:G,parent:W,root:_e,type:de}=h,$e=es(d);pt(h,!1),H&&Cs(H),!$e&&(T=j&&j.onVnodeBeforeMount)&&Le(T,W,d),pt(h,!0);{_e.ce&&_e.ce._injectChildStyle(de);const Re=h.subTree=In(h);x(null,Re,g,y,h,v,m),d.el=Re.el}if(G&&me(G,v),!$e&&(T=j&&j.onVnodeMounted)){const Re=d;me(()=>Le(T,W,Re),v)}(d.shapeFlag&256||W&&es(W.vnode)&&W.vnode.shapeFlag&256)&&h.a&&me(h.a,v),h.isMounted=!0,d=g=y=null}};h.scope.on();const w=h.effect=new Ai(S);h.scope.off();const b=h.update=w.run.bind(w),C=h.job=w.runIfDirty.bind(w);C.i=h,C.id=h.uid,w.scheduler=()=>un(C),pt(h,!0),b()},M=(h,d,g)=>{d.component=h;const y=h.vnode.props;h.vnode=d,h.next=null,kl(h,d.props,y,g),Ol(h,d.children,g),lt(),xn(h),ct()},z=(h,d,g,y,v,m,E,S,w=!1)=>{const b=h&&h.children,C=h?h.shapeFlag:0,T=d.children,{patchFlag:P,shapeFlag:j}=d;if(P>0){if(P&128){bs(b,T,g,y,v,m,E,S,w);return}else if(P&256){ht(b,T,g,y,v,m,E,S,w);return}}j&8?(C&16&&qt(b,v,m),T!==b&&c(g,T)):C&16?j&16?bs(b,T,g,y,v,m,E,S,w):qt(b,v,m,!0):(C&8&&c(g,""),j&16&&B(T,g,y,v,m,E,S,w))},ht=(h,d,g,y,v,m,E,S,w)=>{h=h||Rt,d=d||Rt;const b=h.length,C=d.length,T=Math.min(b,C);let P;for(P=0;P<T;P++){const j=d[P]=w?tt(d[P]):Fe(d[P]);x(h[P],j,g,null,v,m,E,S,w)}b>C?qt(h,v,m,!0,!1,T):B(d,g,y,v,m,E,S,w,T)},bs=(h,d,g,y,v,m,E,S,w)=>{let b=0;const C=d.length;let T=h.length-1,P=C-1;for(;b<=T&&b<=P;){const j=h[b],H=d[b]=w?tt(d[b]):Fe(d[b]);if(Jt(j,H))x(j,H,g,null,v,m,E,S,w);else break;b++}for(;b<=T&&b<=P;){const j=h[T],H=d[P]=w?tt(d[P]):Fe(d[P]);if(Jt(j,H))x(j,H,g,null,v,m,E,S,w);else break;T--,P--}if(b>T){if(b<=P){const j=P+1,H=j<C?d[j].el:y;for(;b<=P;)x(null,d[b]=w?tt(d[b]):Fe(d[b]),g,H,v,m,E,S,w),b++}}else if(b>P)for(;b<=T;)je(h[b],v,m,!0),b++;else{const j=b,H=b,G=new Map;for(b=H;b<=P;b++){const ve=d[b]=w?tt(d[b]):Fe(d[b]);ve.key!=null&&G.set(ve.key,b)}let W,_e=0;const de=P-H+1;let $e=!1,Re=0;const Vt=new Array(de);for(b=0;b<de;b++)Vt[b]=0;for(b=j;b<=T;b++){const ve=h[b];if(_e>=de){je(ve,v,m,!0);continue}let Ie;if(ve.key!=null)Ie=G.get(ve.key);else for(W=H;W<=P;W++)if(Vt[W-H]===0&&Jt(ve,d[W])){Ie=W;break}Ie===void 0?je(ve,v,m,!0):(Vt[Ie-H]=b+1,Ie>=Re?Re=Ie:$e=!0,x(ve,d[Ie],g,null,v,m,E,S,w),_e++)}const wn=$e?jl(Vt):Rt;for(W=wn.length-1,b=de-1;b>=0;b--){const ve=H+b,Ie=d[ve],Sn=ve+1<C?d[ve+1].el:y;Vt[b]===0?x(null,Ie,g,Sn,v,m,E,S,w):$e&&(W<0||b!==wn[W]?ft(Ie,g,Sn,2):W--)}}},ft=(h,d,g,y,v=null)=>{const{el:m,type:E,transition:S,children:w,shapeFlag:b}=h;if(b&6){ft(h.component.subTree,d,g,y);return}if(b&128){h.suspense.move(d,g,y);return}if(b&64){E.move(h,d,g,Kt);return}if(E===Oe){r(m,d,g);for(let T=0;T<w.length;T++)ft(w[T],d,g,y);r(h.anchor,d,g);return}if(E===_r){U(h,d,g);return}if(y!==2&&b&1&&S)if(y===0)S.beforeEnter(m),r(m,d,g),me(()=>S.enter(m),v);else{const{leave:T,delayLeave:P,afterLeave:j}=S,H=()=>r(m,d,g),G=()=>{T(m,()=>{H(),j&&j()})};P?P(m,H,G):G()}else r(m,d,g)},je=(h,d,g,y=!1,v=!1)=>{const{type:m,props:E,ref:S,children:w,dynamicChildren:b,shapeFlag:C,patchFlag:T,dirs:P,cacheIndex:j}=h;if(T===-2&&(v=!1),S!=null&&Fs(S,null,g,h,!0),j!=null&&(d.renderCache[j]=void 0),C&256){d.ctx.deactivate(h);return}const H=C&1&&P,G=!es(h);let W;if(G&&(W=E&&E.onVnodeBeforeUnmount)&&Le(W,d,h),C&6)ia(h.component,g,y);else{if(C&128){h.suspense.unmount(g,y);return}H&&dt(h,null,d,"beforeUnmount"),C&64?h.type.remove(h,d,g,Kt,y):b&&!b.hasOnce&&(m!==Oe||T>0&&T&64)?qt(b,d,g,!1,!0):(m===Oe&&T&384||!v&&C&16)&&qt(w,d,g),y&&yn(h)}(G&&(W=E&&E.onVnodeUnmounted)||H)&&me(()=>{W&&Le(W,d,h),H&&dt(h,null,d,"unmounted")},g)},yn=h=>{const{type:d,el:g,anchor:y,transition:v}=h;if(d===Oe){na(g,y);return}if(d===_r){O(h);return}const m=()=>{n(g),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(h.shapeFlag&1&&v&&!v.persisted){const{leave:E,delayLeave:S}=v,w=()=>E(g,m);S?S(h.el,m,w):w()}else m()},na=(h,d)=>{let g;for(;h!==d;)g=p(h),n(h),h=g;n(d)},ia=(h,d,g)=>{const{bum:y,scope:v,job:m,subTree:E,um:S,m:w,a:b}=h;Rn(w),Rn(b),y&&Cs(y),v.stop(),m&&(m.flags|=8,je(E,h,d,g)),S&&me(S,d),me(()=>{h.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},qt=(h,d,g,y=!1,v=!1,m=0)=>{for(let E=m;E<h.length;E++)je(h[E],d,g,y,v)},ws=h=>{if(h.shapeFlag&6)return ws(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const d=p(h.anchor||h.el),g=d&&d[Xa];return g?p(g):d};let lr=!1;const bn=(h,d,g)=>{h==null?d._vnode&&je(d._vnode,null,null,!0):x(d._vnode||null,h,d,null,null,null,g),d._vnode=h,lr||(lr=!0,xn(),zi(),lr=!1)},Kt={p:x,um:je,m:ft,r:yn,mt:Ht,mc:B,pc:z,pbc:se,n:ws,o:t};return{render:bn,hydrate:void 0,createApp:yl(bn)}}function gr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function pt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Cl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function _o(t,e,s=!1){const r=t.children,n=e.children;if($(r)&&$(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=tt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&_o(o,a)),a.type===Xs&&(a.el=o.el)}}function jl(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function vo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:vo(e)}function Rn(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const $l=Symbol.for("v-scx"),Rl=()=>ss($l);function js(t,e,s){return mo(t,e,s)}function mo(t,e,s=J){const{immediate:r,deep:n,flush:i,once:o}=s,a=fe({},s),l=e&&r||!e&&i!=="post";let u;if(ds){if(i==="sync"){const _=Rl();u=_.__watcherHandles||(_.__watcherHandles=[])}else if(!l){const _=()=>{};return _.stop=Ne,_.resume=Ne,_.pause=Ne,_}}const c=le;a.call=(_,k,x)=>Be(_,c,k,x);let f=!1;i==="post"?a.scheduler=_=>{me(_,c&&c.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(_,k)=>{k?_():un(_)}),a.augmentJob=_=>{e&&(_.flags|=4),f&&(_.flags|=2,c&&(_.id=c.uid,_.i=c))};const p=Ja(t,e,a);return ds&&(u?u.push(p):l&&p()),p}function Il(t,e,s){const r=this.proxy,n=re(t)?t.includes(".")?yo(r,t):()=>r[t]:t.bind(r,r);let i;D(e)?i=e:(i=e.handler,s=e);const o=_s(this),a=mo(n,i.bind(r),s);return o(),a}function yo(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Ll=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ot(e)}Modifiers`]||t[`${kt(e)}Modifiers`];function Dl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||J;let n=s;const i=e.startsWith("update:"),o=i&&Ll(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>re(c)?c.trim():c)),o.number&&(n=s.map(Pr)));let a,l=r[a=cr(e)]||r[a=cr(ot(e))];!l&&i&&(l=r[a=cr(kt(e))]),l&&Be(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Be(u,t,6,n)}}function bo(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!D(t)){const l=u=>{const c=bo(u,e,!0);c&&(a=!0,fe(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(X(t)&&r.set(t,null),null):($(i)?i.forEach(l=>o[l]=null):fe(o,i),X(t)&&r.set(t,o),o)}function Qs(t,e){return!t||!qs(e)?!1:(e=e.slice(2).replace(/Once$/,""),V(t,e[0].toLowerCase()+e.slice(1))||V(t,kt(e))||V(t,e))}function In(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:p,setupState:_,ctx:k,inheritAttrs:x}=t,A=Ms(t);let R,N;try{if(s.shapeFlag&4){const O=n||r,I=O;R=Fe(u.call(I,O,c,f,_,p,k)),N=a}else{const O=e;R=Fe(O.length>1?O(f,{attrs:a,slots:o,emit:l}):O(f,null)),N=e.props?a:Ul(a)}}catch(O){rs.length=0,Gs(O,t,1),R=Ee(St)}let U=R;if(N&&x!==!1){const O=Object.keys(N),{shapeFlag:I}=U;O.length&&I&7&&(i&&O.some(Yr)&&(N=Ml(N,i)),U=Ut(U,N,!1,!0))}return s.dirs&&(U=Ut(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(s.dirs):s.dirs),s.transition&&hn(U,s.transition),R=U,Ms(A),R}const Ul=t=>{let e;for(const s in t)(s==="class"||s==="style"||qs(s))&&((e||(e={}))[s]=t[s]);return e},Ml=(t,e)=>{const s={};for(const r in t)(!Yr(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Fl(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Ln(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const p=c[f];if(o[p]!==r[p]&&!Qs(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ln(r,o,u):!0:!!o;return!1}function Ln(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Qs(s,i))return!0}return!1}function Nl({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const wo=t=>t.__isSuspense;function Bl(t,e){e&&e.pendingBranch?$(t)?e.effects.push(...t):e.effects.push(t):Ya(t)}const Oe=Symbol.for("v-fgt"),Xs=Symbol.for("v-txt"),St=Symbol.for("v-cmt"),_r=Symbol.for("v-stc"),rs=[];let we=null;function Pe(t=!1){rs.push(we=t?null:[])}function Hl(){rs.pop(),we=rs[rs.length-1]||null}let fs=1;function Dn(t,e=!1){fs+=t,t<0&&we&&e&&(we.hasOnce=!0)}function So(t){return t.dynamicChildren=fs>0?we||Rt:null,Hl(),fs>0&&we&&we.push(t),t}function Me(t,e,s,r,n,i){return So(ee(t,e,s,r,n,i,!0))}function ql(t,e,s,r,n){return So(Ee(t,e,s,r,n,!0))}function ko(t){return t?t.__v_isVNode===!0:!1}function Jt(t,e){return t.type===e.type&&t.key===e.key}const Eo=({key:t})=>t??null,$s=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?re(t)||te(t)||D(t)?{i:be,r:t,k:e,f:!!s}:t:null);function ee(t,e=null,s=null,r=0,n=null,i=t===Oe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Eo(e),ref:e&&$s(e),scopeId:Yi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:be};return a?(dn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=re(s)?8:16),fs>0&&!o&&we&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&we.push(l),l}const Ee=Kl;function Kl(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===hl)&&(t=St),ko(t)){const a=Ut(t,e,!0);return s&&dn(a,s),fs>0&&!i&&we&&(a.shapeFlag&6?we[we.indexOf(t)]=a:we.push(a)),a.patchFlag=-2,a}if(tc(t)&&(t=t.__vccOpts),e){e=Vl(e);let{class:a,style:l}=e;a&&!re(a)&&(e.class=en(a)),X(l)&&(ln(l)&&!$(l)&&(l=fe({},l)),e.style=Zr(l))}const o=re(t)?1:wo(t)?128:Za(t)?64:X(t)?4:D(t)?2:0;return ee(t,e,s,r,n,o,i,!0)}function Vl(t){return t?ln(t)||lo(t)?fe({},t):t:null}function Ut(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Jl(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Eo(u),ref:e&&e.ref?s&&i?$(i)?i.concat($s(e)):[i,$s(e)]:$s(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ut(t.ssContent),ssFallback:t.ssFallback&&Ut(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&hn(c,l.clone(c)),c}function Wl(t=" ",e=0){return Ee(Xs,null,t,e)}function vr(t="",e=!1){return e?(Pe(),ql(St,null,t)):Ee(St,null,t)}function Fe(t){return t==null||typeof t=="boolean"?Ee(St):$(t)?Ee(Oe,null,t.slice()):ko(t)?tt(t):Ee(Xs,null,String(t))}function tt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ut(t)}function dn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if($(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),dn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!lo(e)?e._ctx=be:n===3&&be&&(be.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else D(e)?(e={default:e,_ctx:be},s=32):(e=String(e),r&64?(s=16,e=[Wl(e)]):s=8);t.children=e,t.shapeFlag|=s}function Jl(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=en([e.class,r.class]));else if(n==="style")e.style=Zr([e.style,r.style]);else if(qs(n)){const i=e[n],o=r[n];o&&i!==o&&!($(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Le(t,e,s,r=null){Be(t,e,7,[s,r])}const zl=io();let Gl=0;function Yl(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||zl,i={uid:Gl++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new xi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uo(r,n),emitsOptions:bo(r,n),emit:null,emitted:null,propsDefaults:J,inheritAttrs:r.inheritAttrs,ctx:J,data:J,props:J,attrs:J,slots:J,refs:J,setupState:J,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Dl.bind(null,i),t.ce&&t.ce(i),i}let le=null,Bs,Ur;{const t=Ws(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Bs=e("__VUE_INSTANCE_SETTERS__",s=>le=s),Ur=e("__VUE_SSR_SETTERS__",s=>ds=s)}const _s=t=>{const e=le;return Bs(t),t.scope.on(),()=>{t.scope.off(),Bs(e)}},Un=()=>{le&&le.scope.off(),Bs(null)};function To(t){return t.vnode.shapeFlag&4}let ds=!1;function Ql(t,e=!1,s=!1){e&&Ur(e);const{props:r,children:n}=t.vnode,i=To(t);Sl(t,r,i,e),xl(t,n,s);const o=i?Xl(t,e):void 0;return e&&Ur(!1),o}function Xl(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,fl);const{setup:r}=s;if(r){lt();const n=t.setupContext=r.length>1?ec(t):null,i=_s(t),o=gs(r,t,0,[t.props,n]),a=mi(o);if(ct(),i(),(a||t.sp)&&!es(t)&&Qi(t),a){if(o.then(Un,Un),e)return o.then(l=>{Mn(t,l)}).catch(l=>{Gs(l,t,0)});t.asyncDep=o}else Mn(t,o)}else xo(t)}function Mn(t,e,s){D(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:X(e)&&(t.setupState=Ki(e)),xo(t)}function xo(t,e,s){const r=t.type;t.render||(t.render=r.render||Ne);{const n=_s(t);lt();try{dl(t)}finally{ct(),n()}}}const Zl={get(t,e){return oe(t,"get",""),t[e]}};function ec(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Zl),slots:t.slots,emit:t.emit,expose:e}}function Zs(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ki(cn(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in ts)return ts[s](t)},has(e,s){return s in e||s in ts}})):t.proxy}function tc(t){return D(t)&&"__vccOpts"in t}const Oo=(t,e)=>Va(t,e,ds),sc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mr;const Fn=typeof window<"u"&&window.trustedTypes;if(Fn)try{Mr=Fn.createPolicy("vue",{createHTML:t=>t})}catch{}const Po=Mr?t=>Mr.createHTML(t):t=>t,rc="http://www.w3.org/2000/svg",nc="http://www.w3.org/1998/Math/MathML",Ke=typeof document<"u"?document:null,Nn=Ke&&Ke.createElement("template"),ic={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Ke.createElementNS(rc,t):e==="mathml"?Ke.createElementNS(nc,t):s?Ke.createElement(t,{is:s}):Ke.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Ke.createTextNode(t),createComment:t=>Ke.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ke.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Nn.innerHTML=Po(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Nn.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},oc=Symbol("_vtc");function ac(t,e,s){const r=t[oc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Bn=Symbol("_vod"),lc=Symbol("_vsh"),cc=Symbol(""),uc=/(^|;)\s*display\s*:/;function hc(t,e,s){const r=t.style,n=re(s);let i=!1;if(s&&!n){if(e)if(re(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Rs(r,a,"")}else for(const o in e)s[o]==null&&Rs(r,o,"");for(const o in s)o==="display"&&(i=!0),Rs(r,o,s[o])}else if(n){if(e!==s){const o=r[cc];o&&(s+=";"+o),r.cssText=s,i=uc.test(s)}}else e&&t.removeAttribute("style");Bn in t&&(t[Bn]=i?r.display:"",t[lc]&&(r.display="none"))}const Hn=/\s*!important$/;function Rs(t,e,s){if($(s))s.forEach(r=>Rs(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=fc(t,e);Hn.test(s)?t.setProperty(kt(r),s.replace(Hn,""),"important"):t[r]=s}}const qn=["Webkit","Moz","ms"],mr={};function fc(t,e){const s=mr[e];if(s)return s;let r=ot(e);if(r!=="filter"&&r in t)return mr[e]=r;r=wi(r);for(let n=0;n<qn.length;n++){const i=qn[n]+r;if(i in t)return mr[e]=i}return e}const Kn="http://www.w3.org/1999/xlink";function Vn(t,e,s,r,n,i=_a(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Kn,e.slice(6,e.length)):t.setAttributeNS(Kn,e,s):s==null||i&&!ki(s)?t.removeAttribute(e):t.setAttribute(e,i?"":at(s)?String(s):s)}function Wn(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Po(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=ki(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function jt(t,e,s,r){t.addEventListener(e,s,r)}function dc(t,e,s,r){t.removeEventListener(e,s,r)}const Jn=Symbol("_vei");function pc(t,e,s,r,n=null){const i=t[Jn]||(t[Jn]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=gc(e);if(r){const u=i[e]=mc(r,n);jt(t,a,u,l)}else o&&(dc(t,a,o,l),i[e]=void 0)}}const zn=/(?:Once|Passive|Capture)$/;function gc(t){let e;if(zn.test(t)){e={};let r;for(;r=t.match(zn);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):kt(t.slice(2)),e]}let yr=0;const _c=Promise.resolve(),vc=()=>yr||(_c.then(()=>yr=0),yr=Date.now());function mc(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Be(yc(r,s.value),e,5,[r])};return s.value=t,s.attached=vc(),s}function yc(t,e){if($(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Gn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,bc=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?ac(t,r,o):e==="style"?hc(t,s,r):qs(e)?Yr(e)||pc(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wc(t,e,r,o))?(Wn(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Vn(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!re(r))?Wn(t,ot(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Vn(t,e,r,o))};function wc(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Gn(e)&&D(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Gn(e)&&re(s)?!1:e in t}const Yn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return $(e)?s=>Cs(e,s):e};function Sc(t){t.target.composing=!0}function Qn(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const br=Symbol("_assign"),Xn={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[br]=Yn(n);const i=r||n.props&&n.props.type==="number";jt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Pr(a)),t[br](a)}),s&&jt(t,"change",()=>{t.value=t.value.trim()}),e||(jt(t,"compositionstart",Sc),jt(t,"compositionend",Qn),jt(t,"change",Qn))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[br]=Yn(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Pr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},kc=["ctrl","shift","alt","meta"],Ec={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>kc.some(s=>t[`${s}Key`]&&!e.includes(s))},Tc=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Ec[e[o]];if(a&&a(n,e))return}return t(n,...i)})},xc=fe({patchProp:bc},ic);let Zn;function Oc(){return Zn||(Zn=Pl(xc))}const Pc=(...t)=>{const e=Oc().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Cc(r);if(!n)return;const i=e._component;!D(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Ac(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Ac(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Cc(t){return re(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Ao;const er=t=>Ao=t,Co=Symbol();function Fr(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ns;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ns||(ns={}));function jc(){const t=Oi(!0),e=t.run(()=>Ls({}));let s=[],r=[];const n=cn({install(i){er(n),n._a=i,i.provide(Co,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return this._a?s.push(i):r.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const jo=()=>{};function ei(t,e,s,r=jo){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&Pi()&&va(n),n}function xt(t,...e){t.slice().forEach(s=>{s(...e)})}const $c=t=>t(),ti=Symbol(),wr=Symbol();function Nr(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];Fr(n)&&Fr(r)&&t.hasOwnProperty(s)&&!te(r)&&!it(r)?t[s]=Nr(n,r):t[s]=r}return t}const Rc=Symbol();function Ic(t){return!Fr(t)||!t.hasOwnProperty(Rc)}const{assign:Qe}=Object;function Lc(t){return!!(te(t)&&t.effect)}function Dc(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=Ba(s.state.value[t]);return Qe(c,i,Object.keys(o||{}).reduce((f,p)=>(f[p]=cn(Oo(()=>{er(s);const _=s._s.get(t);return o[p].call(_,_)})),f),{}))}return l=$o(t,u,e,s,r,!0),l}function $o(t,e,s={},r,n,i){let o;const a=Qe({actions:{}},s),l={deep:!0};let u,c,f=[],p=[],_;const k=r.state.value[t];!i&&!k&&(r.state.value[t]={}),Ls({});let x;function A(B){let q;u=c=!1,typeof B=="function"?(B(r.state.value[t]),q={type:ns.patchFunction,storeId:t,events:_}):(Nr(r.state.value[t],B),q={type:ns.patchObject,payload:B,storeId:t,events:_});const se=x=Symbol();Wi().then(()=>{x===se&&(u=!0)}),c=!0,xt(f,q,r.state.value[t])}const R=i?function(){const{state:q}=s,se=q?q():{};this.$patch(Se=>{Qe(Se,se)})}:jo;function N(){o.stop(),f=[],p=[],r._s.delete(t)}const U=(B,q="")=>{if(ti in B)return B[wr]=q,B;const se=function(){er(r);const Se=Array.from(arguments),Ce=[],Ge=[];function Ht(M){Ce.push(M)}function ys(M){Ge.push(M)}xt(p,{args:Se,name:se[wr],store:I,after:Ht,onError:ys});let Z;try{Z=B.apply(this&&this.$id===t?this:I,Se)}catch(M){throw xt(Ge,M),M}return Z instanceof Promise?Z.then(M=>(xt(Ce,M),M)).catch(M=>(xt(Ge,M),Promise.reject(M))):(xt(Ce,Z),Z)};return se[ti]=!0,se[wr]=q,se},O={_p:r,$id:t,$onAction:ei.bind(null,p),$patch:A,$reset:R,$subscribe(B,q={}){const se=ei(f,B,q.detached,()=>Se()),Se=o.run(()=>js(()=>r.state.value[t],Ce=>{(q.flush==="sync"?c:u)&&B({storeId:t,type:ns.direct,events:_},Ce)},Qe({},l,q)));return se},$dispose:N},I=zs(O);r._s.set(t,I);const ie=(r._a&&r._a.runWithContext||$c)(()=>r._e.run(()=>(o=Oi()).run(()=>e({action:U}))));for(const B in ie){const q=ie[B];if(te(q)&&!Lc(q)||it(q))i||(k&&Ic(q)&&(te(q)?q.value=k[B]:Nr(q,k[B])),r.state.value[t][B]=q);else if(typeof q=="function"){const se=U(q,B);ie[B]=se,a.actions[B]=q}}return Qe(I,ie),Qe(K(I),ie),Object.defineProperty(I,"$state",{get:()=>r.state.value[t],set:B=>{A(q=>{Qe(q,B)})}}),r._p.forEach(B=>{Qe(I,o.run(()=>B({store:I,app:r._a,pinia:r,options:a})))}),k&&i&&s.hydrate&&s.hydrate(I.$state,k),u=!0,c=!0,I}/*! #__NO_SIDE_EFFECTS__ */function Uc(t,e,s){let r,n;const i=typeof e=="function";r=t,n=i?s:e;function o(a,l){const u=wl();return a=a||(u?ss(Co,null):null),a&&er(a),a=Ao,a._s.has(r)||(i?$o(r,e,n,a):Dc(r,n,a)),a._s.get(r)}return o.$id=r,o}const Mc="modulepreload",Fc=function(t){return"/"+t},si={},Mt=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=Fc(l),l in si)return;si[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Mc,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,_)=>{f.addEventListener("load",p),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Nc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Mt(async()=>{const{default:r}=await Promise.resolve().then(()=>Nt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class pn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Bc extends pn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Hc extends pn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qc extends pn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Br;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Br||(Br={}));var Kc=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Vc{constructor(e,{headers:s={},customFetch:r,region:n=Br.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Nc(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Kc(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(k=>{throw new Bc(k)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new Hc(c);if(!c.ok)throw new qc(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield c.json():p==="application/octet-stream"?_=yield c.blob():p==="text/event-stream"?_=c:p==="multipart/form-data"?_=yield c.formData():_=yield c.text(),{data:_,error:null}}catch(n){return{data:null,error:n}}})}}var Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Of(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var ge={},gn={},tr={},vs={},sr={},rr={},Jc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ft=Jc();const zc=Ft.fetch,Ro=Ft.fetch.bind(Ft),Io=Ft.Headers,Gc=Ft.Request,Yc=Ft.Response,Nt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Io,Request:Gc,Response:Yc,default:Ro,fetch:zc},Symbol.toStringTag,{value:"Module"})),Qc=Wc(Nt);var nr={};Object.defineProperty(nr,"__esModule",{value:!0});let Xc=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};nr.default=Xc;var Lo=Te&&Te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rr,"__esModule",{value:!0});const Zc=Lo(Qc),eu=Lo(nr);let tu=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Zc.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,f=null,p=i.status,_=i.statusText;if(i.ok){if(this.method!=="HEAD"){const R=await i.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=R:c=JSON.parse(R))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),A=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&A&&A.length>1&&(f=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,p=406,_="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(c=[],u=null,p=200,_="OK")}catch{i.status===404&&x===""?(p=204,_="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,_="OK"),u&&this.shouldThrowOnError)throw new eu.default(u)}return{error:u,data:c,count:f,status:p,statusText:_}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};rr.default=tu;var su=Te&&Te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sr,"__esModule",{value:!0});const ru=su(rr);let nu=class extends ru.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};sr.default=nu;var iu=Te&&Te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vs,"__esModule",{value:!0});const ou=iu(sr);let au=class extends ou.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};vs.default=au;var lu=Te&&Te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tr,"__esModule",{value:!0});const zt=lu(vs);let cu=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new zt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new zt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new zt.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new zt.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new zt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};tr.default=cu;var ir={},or={};Object.defineProperty(or,"__esModule",{value:!0});or.version=void 0;or.version="0.0.0-automated";Object.defineProperty(ir,"__esModule",{value:!0});ir.DEFAULT_HEADERS=void 0;const uu=or;ir.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${uu.version}`};var Do=Te&&Te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gn,"__esModule",{value:!0});const hu=Do(tr),fu=Do(vs),du=ir;let pu=class Uo{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},du.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new hu.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Uo(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{a.searchParams.append(c,f)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new fu.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};gn.default=pu;var Bt=Te&&Te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ge,"__esModule",{value:!0});ge.PostgrestError=ge.PostgrestBuilder=ge.PostgrestTransformBuilder=ge.PostgrestFilterBuilder=ge.PostgrestQueryBuilder=ge.PostgrestClient=void 0;const Mo=Bt(gn);ge.PostgrestClient=Mo.default;const Fo=Bt(tr);ge.PostgrestQueryBuilder=Fo.default;const No=Bt(vs);ge.PostgrestFilterBuilder=No.default;const Bo=Bt(sr);ge.PostgrestTransformBuilder=Bo.default;const Ho=Bt(rr);ge.PostgrestBuilder=Ho.default;const qo=Bt(nr);ge.PostgrestError=qo.default;var gu=ge.default={PostgrestClient:Mo.default,PostgrestQueryBuilder:Fo.default,PostgrestFilterBuilder:No.default,PostgrestTransformBuilder:Bo.default,PostgrestBuilder:Ho.default,PostgrestError:qo.default};const{PostgrestClient:_u,PostgrestQueryBuilder:Rf,PostgrestFilterBuilder:If,PostgrestTransformBuilder:Lf,PostgrestBuilder:Df,PostgrestError:Uf}=gu,vu="2.11.2",mu={"X-Client-Info":`realtime-js/${vu}`},yu="1.0.0",Ko=1e4,bu=1e3;var Dt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dt||(Dt={}));var ye;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ye||(ye={}));var xe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xe||(xe={}));var Hr;(function(t){t.websocket="websocket"})(Hr||(Hr={}));var mt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(mt||(mt={}));class wu{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Vo{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const ri=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Su(o,t,e,n),i),{})},Su=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?Wo(i,o):qr(o)},Wo=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return xu(e,s)}switch(t){case Y.bool:return ku(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return Eu(e);case Y.json:case Y.jsonb:return Tu(e);case Y.timestamp:return Ou(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return qr(e);default:return qr(e)}},qr=t=>t,ku=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Eu=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Tu=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},xu=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Wo(e,a))}return t},Ou=t=>typeof t=="string"?t.replace(" ","T"):t,Jo=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Sr{constructor(e,s,r={},n=Ko){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ni;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ni||(ni={}));class is{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=is.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=is.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=is.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const p=c.map(A=>A.presence_ref),_=f.map(A=>A.presence_ref),k=c.filter(A=>_.indexOf(A.presence_ref)<0),x=f.filter(A=>p.indexOf(A.presence_ref)<0);k.length>0&&(a[u]=k),x.length>0&&(l[u]=x)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const f=e[a].map(_=>_.presence_ref),p=c.filter(_=>f.indexOf(_.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ii;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ii||(ii={}));var oi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(oi||(oi={}));var Ve;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ve||(Ve={}));class _n{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Sr(this,xe.join,this.params,this.timeout),this.rejoinTimer=new Vo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xe.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new is(this),this.broadcastEndpointURL=Jo(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Ve.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Ve.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){e==null||e(Ve.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,_=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,k=[];for(let x=0;x<_;x++){const A=p[x],{filter:{event:R,schema:N,table:U,filter:O}}=A,I=c&&c[x];if(I&&I.event===R&&I.schema===N&&I.table===U&&I.filter===O)k.push(Object.assign(Object.assign({},A),{id:I.id}));else{this.unsubscribe(),e==null||e(Ve.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Ve.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(Ve.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ve.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ye.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Sr(this,xe.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Sr(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=xe;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(_=>{var k,x,A;return((k=_.filter)===null||k===void 0?void 0:k.event)==="*"||((A=(x=_.filter)===null||x===void 0?void 0:x.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(_=>_.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(_=>{var k,x,A,R,N,U;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const O=_.id,I=(k=_.filter)===null||k===void 0?void 0:k.event;return O&&((x=s.ids)===null||x===void 0?void 0:x.includes(O))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const O=(N=(R=_==null?void 0:_.filter)===null||R===void 0?void 0:R.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((U=s==null?void 0:s.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof p=="object"&&"ids"in p){const k=p.data,{schema:x,table:A,commit_timestamp:R,type:N,errors:U}=k;p=Object.assign(Object.assign({},{schema:x,table:A,commit_timestamp:R,eventType:N,new:{},old:{},errors:U}),this._getPayloadRecords(k))}_.callback(p,r)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&_n.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xe.close,{},e)}_onError(e){this._on(xe.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=ri(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=ri(e.columns,e.old_record)),s}}const Pu=()=>{},Au=typeof WebSocket<"u",Cu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ju{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=mu,this.params={},this.timeout=Ko,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Pu,this.conn=null,this.sendBuffer=[],this.serializer=new wu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Mt(async()=>{const{default:l}=await Promise.resolve().then(()=>Nt);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Hr.websocket}`,this.httpEndpoint=Jo(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Vo(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Au){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new $u(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Mt(async()=>{const{default:e}=await import("./browser-DQtRHUnq.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yu}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Dt.connecting:return mt.Connecting;case Dt.open:return mt.Open;case Dt.closing:return mt.Closing;default:return mt.Closed}}isConnected(){return this.connectionState()===mt.Open}channel(e,s={config:{}}){const r=new _n(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(xe.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(bu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(xe.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Cu],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class $u{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Dt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class vn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ru extends vn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Kr extends vn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Iu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const zo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Mt(async()=>{const{default:r}=await Promise.resolve().then(()=>Nt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Lu=()=>Iu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mt(()=>Promise.resolve().then(()=>Nt),void 0)).Response:Response}),Vr=t=>{if(Array.isArray(t))return t.map(s=>Vr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Vr(r)}),e};var Et=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const kr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Du=(t,e,s)=>Et(void 0,void 0,void 0,function*(){const r=yield Lu();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new Ru(kr(n),t.status||500))}).catch(n=>{e(new Kr(kr(n),n))}):e(new Kr(kr(t),t))}),Uu=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function ms(t,e,s,r,n,i){return Et(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Uu(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Du(l,a,r))})})}function Hs(t,e,s,r){return Et(this,void 0,void 0,function*(){return ms(t,"GET",e,s,r)})}function st(t,e,s,r,n){return Et(this,void 0,void 0,function*(){return ms(t,"POST",e,r,n,s)})}function Mu(t,e,s,r,n){return Et(this,void 0,void 0,function*(){return ms(t,"PUT",e,r,n,s)})}function Fu(t,e,s,r){return Et(this,void 0,void 0,function*(){return ms(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Go(t,e,s,r,n){return Et(this,void 0,void 0,function*(){return ms(t,"DELETE",e,r,n,s)})}var pe=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Nu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ai={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bu{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=zo(n)}uploadOrUpdate(e,s,r,n){return pe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ai),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield f.json();return f.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ne(i))return{data:null,error:i};throw i}})}upload(e,s,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:ai.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield f.json();return f.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield st(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new vn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}update(e,s,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return pe(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}copy(e,s,r){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield st(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return pe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield st(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return pe(this,void 0,void 0,function*(){try{const n=yield st(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}download(e,s){return pe(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Hs(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ne(a))return{data:null,error:a};throw a}})}info(e){return pe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Hs(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Vr(r),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}exists(e){return pe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Fu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ne(r)&&r instanceof Kr){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return pe(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}list(e,s,r){return pe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Nu),s),{prefix:e||""});return{data:yield st(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Hu="2.7.1",qu={"X-Client-Info":`storage-js/${Hu}`};var Ot=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Ku{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},qu),s),this.fetch=zo(r)}listBuckets(){return Ot(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ne(e))return{data:null,error:e};throw e}})}getBucket(e){return Ot(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Ot(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Ot(this,void 0,void 0,function*(){try{return{data:yield Mu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ot(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Ot(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}}class Vu extends Ku{constructor(e,s={},r){super(e,s,r)}from(e){return new Bu(this.url,this.headers,e,this.fetch)}}const Wu="2.49.4";let Yt="";typeof Deno<"u"?Yt="deno":typeof document<"u"?Yt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yt="react-native":Yt="node";const Ju={"X-Client-Info":`supabase-js-${Yt}/${Wu}`},zu={headers:Ju},Gu={schema:"public"},Yu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qu={};var Xu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Zu=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ro:e=fetch,(...s)=>e(...s)},eh=()=>typeof Headers>"u"?Io:Headers,th=(t,e,s)=>{const r=Zu(s),n=eh();return(i,o)=>Xu(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var sh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function rh(t){return t.replace(/\/$/,"")}function nh(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>sh(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const Yo="2.69.1",$t=30*1e3,Wr=3,Er=Wr*$t,ih="http://localhost:9999",oh="supabase.auth.token",ah={"X-Client-Info":`gotrue-js/${Yo}`},Jr="X-Supabase-Api-Version",Qo={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lh=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ch=6e5;class mn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class uh extends mn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function hh(t){return L(t)&&t.name==="AuthApiError"}class Xo extends mn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class ut extends mn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Xe extends ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fh(t){return L(t)&&t.name==="AuthSessionMissingError"}class Tr extends ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ts extends ut{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xs extends ut{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dh(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class li extends ut{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zr extends ut{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function xr(t){return L(t)&&t.name==="AuthRetryableFetchError"}class ci extends ut{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class os extends ut{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hi=` 	
\r=`.split(""),ph=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<hi.length;e+=1)t[hi[e].charCodeAt(0)]=-2;for(let e=0;e<ui.length;e+=1)t[ui[e].charCodeAt(0)]=e;return t})();function Zo(t,e,s){const r=ph[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function fi(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{vh(o,r,s)};for(let o=0;o<t.length;o+=1)Zo(t.charCodeAt(o),n,i);return e.join("")}function gh(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function _h(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}gh(r,e)}}function vh(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function mh(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Zo(t.charCodeAt(n),s,r);return new Uint8Array(e)}function yh(t){const e=[];return _h(t,s=>e.push(s)),new Uint8Array(e)}function bh(t){return Math.round(Date.now()/1e3)+t}function wh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const De=()=>typeof window<"u"&&typeof document<"u",gt={tested:!1,writable:!1},as=()=>{if(!De())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gt.tested)return gt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gt.tested=!0,gt.writable=!0}catch{gt.tested=!0,gt.writable=!1}return gt.writable};function Sh(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const ea=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Mt(async()=>{const{default:r}=await Promise.resolve().then(()=>Nt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},kh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ta=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Os=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ps=async(t,e)=>{await t.removeItem(e)};class ar{constructor(){this.promise=new ar.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}ar.promiseConstructor=Promise;function Or(t){const e=t.split(".");if(e.length!==3)throw new os("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!lh.test(e[r]))throw new os("JWT not in base64url format");return{header:JSON.parse(fi(e[0])),payload:JSON.parse(fi(e[1])),signature:mh(e[2]),raw:{header:e[0],payload:e[1]}}}async function Eh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Th(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function xh(t){return("0"+t.toString(16)).substr(-2)}function Oh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,xh).join("")}async function Ph(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Ah(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Ph(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pt(t,e,s=!1){const r=Oh();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await ta(t,`${e}-code-verifier`,n);const i=await Ah(r);return[i,r===i?"plain":"s256"]}const Ch=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jh(t){const e=t.headers.get(Jr);if(!e||!e.match(Ch))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $h(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Rh(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Ih=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const vt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lh=[502,503,504];async function di(t){var e;if(!kh(t))throw new zr(vt(t),0);if(Lh.includes(t.status))throw new zr(vt(t),t.status);let s;try{s=await t.json()}catch(i){throw new Xo(vt(i),i)}let r;const n=jh(t);if(n&&n.getTime()>=Qo["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new ci(vt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Xe}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ci(vt(s),t.status,s.weak_password.reasons);throw new uh(vt(s),t.status||500,r)}const Dh=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function F(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Jr]||(i[Jr]=Qo["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Uh(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Uh(t,e,s,r,n,i){const o=Dh(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new zr(vt(l),0)}if(a.ok||await di(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await di(l)}}function Ze(t){var e;let s=null;Bh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=bh(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function pi(t){const e=Ze(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function rt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Mh(t){return{data:t,error:null}}function Fh(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Ih(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Nh(t){return t}function Bh(t){return t.access_token&&t.refresh_token&&t.expires_in}var Hh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class qh{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=ea(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:rt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Hh(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Fh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(L(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:rt})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Nh});if(c.error)throw c.error;const f=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return _.length>0&&(_.forEach(k=>{const x=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(k.split(";")[1].split("=")[1]);u[`${A}Page`]=x}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:rt})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:rt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:rt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(L(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}}const Kh={getItem:t=>as()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{as()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{as()&&globalThis.localStorage.removeItem(t)}};function gi(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Vh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const At={debug:!!(globalThis&&as()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sa extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Wh extends sa{}async function Jh(t,e,s){At.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),At.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){At.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{At.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw At.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Wh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(At.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Vh();const zh={url:ih,storageKey:oh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ah,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _i(t,e,s){return await s()}class ps{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ps.nextInstanceID,ps.nextInstanceID+=1,this.instanceID>0&&De()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},zh),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new qh({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ea(n.fetch),this.lock=n.lock||_i,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:De()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Jh:this.lock=_i,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:as()?this.storage=Kh:(this.memoryStorage={},this.storage=gi(this.memoryStorage)):(this.memoryStorage={},this.storage=gi(this.memoryStorage)),De()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Yo}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Sh(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),De()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),dh(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return L(s)?{error:s}:{error:new Xo("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ze}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:f,options:p}=e;let _=null,k=null;this.flowType==="pkce"&&([_,k]=await Pt(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:_,code_challenge_method:k},xform:Ze})}else if("phone"in e){const{phone:c,password:f,options:p}=e;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ze})}else throw new Ts("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:pi})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:pi})}else throw new Ts("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Tr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Os(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ze});if(await Ps(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Tr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ze}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Tr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Pt(this.storage,this.storageKey));const{error:f}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ts("You must provide either an email or phone number.")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ze});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Pt(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Mh})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Xe;const{error:n}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await F(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await F(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ts("You must provide either an email or phone number and a type")}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Er:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:rt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xe}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:rt})})}catch(s){if(L(s))return fh(s)&&(await this._removeSession(),await Ps(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Xe;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Pt(this.storage,this.storageKey));const{data:u,error:c}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:rt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xe;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=Or(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(L(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Xe;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!De())throw new xs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new li("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new li("No code detected.");const{data:N,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new xs("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let p=c+f;l&&(p=parseInt(l));const _=p-c;_*1e3<=$t&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${f}s`);const k=p-f;c-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,p,c):c-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,p,c);const{data:x,error:A}=await this._getUser(i);if(A)throw A;const R={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Os(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(hh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ps(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=wh(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Pt(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:p}=i;if(p)throw p;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",_,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return De()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Th(async n=>(n>0&&await Eh(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ze})),(n,i)=>{const o=200*Math.pow(2,n);return i&&xr(i)&&Date.now()+o-r<$t})}catch(r){if(this._debug(s,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),De()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Os(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Er;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${Er}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),xr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Xe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new ar;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Xe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),L(i)){const o={session:null,error:i};return xr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ta(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ps(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&De()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$t);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/$t);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${$t}ms, refresh threshold is ${Wr} ticks`),n<=Wr&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof sa)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!De()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Pt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(L(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(L(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Or(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+ch>Date.now()))return r;const{data:n,error:i}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new os("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new os("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:_,error:k}=await this.getSession();if(k||!_.session)return{data:null,error:k};r=_.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Or(r);if($h(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:i,header:n,signature:o},error:null}}const u=Rh(n.alg),c=await this.fetchJwk(n.kid,s),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,yh(`${a}.${l}`)))throw new os("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}ps.nextInstanceID=0;const Gh=ps;class Yh extends Gh{constructor(e){super(e)}}var Qh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Xh{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=rh(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Gu,realtime:Qu,auth:Object.assign(Object.assign({},Yu),{storageKey:l}),global:zu},c=nh(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=th(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new _u(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Vc(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Vu(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Qh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yh({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ju(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zh=(t,e,s)=>new Xh(t,e,s);function As(){const s=Zh("https://vfwrwhoqkifxlogoavod.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZmd3J3aG9xa2lmeGxvZ29hdm9kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2ODc1NTYsImV4cCI6MjA1OTI2MzU1Nn0.HX_WGCy93SwmrIZjFOxf5Ma86jE3pNITIhZu-r6mbDI");return{supabase:s,auth:s.auth,db:s.from("bookmarks")}}const ef=Uc("auth",{state:()=>({user:null,sessionChecked:!1,isLoggedIn:!1,bookmarks:[],message:"",sessionExpiresAt:null}),actions:{async checkSession(){const{auth:t}=As();try{const{data:{user:e},error:s}=await t.getUser();e&&this.sessionExpiresAt&&Date.now()<this.sessionExpiresAt?(this.user=e,this.isLoggedIn=!0,await this.fetchBookmarks()):await this.logout()}finally{this.sessionChecked=!0}},async fetchBookmarks(){if(!this.user)return;const{db:t}=As(),{data:e,error:s}=await t.select("*").eq("user_id",this.user.id).order("created_at",{ascending:!1});if(s)throw s;this.bookmarks=e||[]},async login(t,e){const{auth:s}=As();try{const{data:r,error:n}=await s.signInWithPassword({email:t,password:e});if(n)throw n;this.sessionExpiresAt=Date.now()+36e5,this.user=r.user,this.isLoggedIn=!0,await this.fetchBookmarks()}catch(r){throw this.message=r.message,r}},async logout(){const{auth:t}=As();await t.signOut(),this.isLoggedIn=!1,this.bookmarks=[],this.user=null,this.message=""}}}),tf={class:"auth-section"},sf={key:0,class:"login-container"},rf={class:"form-container"},nf={class:"form-group"},of={class:"form-group"},af={class:"message"},lf={key:1,class:"bookmarks-section"},cf={class:"bookmark-header"},uf={class:"bookmark-list"},hf=["href"],ff={key:0,class:"no-bookmarks"},df={__name:"Auth",setup(t){const e=ef(),s=Ls(""),r=Ls("");eo(()=>{e.checkSession()});const n=async()=>{if(!s.value||!r.value){e.message="请输入邮箱和密码";return}try{await e.login(s.value,r.value)}catch(i){console.error("Login error:",i)}};return(i,o)=>(Pe(),Me("div",tf,[!Ye(e).isLoggedIn&&Ye(e).sessionChecked?(Pe(),Me("div",sf,[ee("form",{onSubmit:Tc(n,["prevent"])},[ee("div",rf,[ee("div",nf,[On(ee("input",{type:"email","onUpdate:modelValue":o[0]||(o[0]=a=>s.value=a),placeholder:"邮箱",required:""},null,512),[[Xn,s.value]])]),ee("div",of,[On(ee("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=a=>r.value=a),placeholder:"密码",required:""},null,512),[[Xn,r.value]])]),o[3]||(o[3]=ee("button",{type:"submit",class:"login-btn"},"登录",-1))])],32),ee("div",af,ls(Ye(e).message),1)])):vr("",!0),Ye(e).isLoggedIn?(Pe(),Me("div",lf,[ee("div",cf,[o[4]||(o[4]=ee("h2",null,"个人书签",-1)),ee("button",{onClick:o[2]||(o[2]=a=>Ye(e).logout()),class:"logout-btn"},"退出登录")]),ee("div",uf,[(Pe(!0),Me(Oe,null,so(Ye(e).bookmarks,a=>(Pe(),Me("div",{key:a.id,class:"bookmark"},[ee("a",{href:a.url,target:"_blank"},ls(a.title),9,hf)]))),128)),Ye(e).bookmarks.length===0?(Pe(),Me("div",ff," 暂无书签，请添加书签。 ")):vr("",!0)])])):vr("",!0)]))}},pf={class:"card"},gf=["href"],_f={class:"card-content"},vf={class:"card-title"},mf={class:"card-desc"},yf={__name:"ServiceCard",props:{title:String,url:String,description:String},setup(t){return(e,s)=>(Pe(),Me("div",pf,[ee("a",{href:t.url,target:"_blank"},[ee("div",_f,[ee("div",vf,ls(t.title),1),ee("div",mf,ls(t.description),1)])],8,gf)]))}},bf={class:"container"},wf={class:"grid"},Sf={__name:"Home",setup(t){const e=[{title:"服务器探针",url:"https://vps.111600.xyz/",description:"实时监控服务器状态与性能指标"}];return(s,r)=>(Pe(),Me("div",bf,[r[0]||(r[0]=ee("h1",null,"云服务导航",-1)),ee("div",wf,[(Pe(),Me(Oe,null,so(e,n=>Ee(yf,{key:n.url,title:n.title,url:n.url,description:n.description},null,8,["title","url","description"])),64))])]))}},kf={id:"app"},Ef={__name:"App",setup(t){return(e,s)=>(Pe(),Me("div",kf,[Ee(df),Ee(Sf)]))}};console.log("GitHub Token:","未设置");console.log("Other Secret:","未设置");const ra=Pc(Ef),Tf=jc();ra.use(Tf);ra.mount("#app");export{Of as g};
